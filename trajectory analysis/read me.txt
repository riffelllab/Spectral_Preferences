**** "trajectory analysis.Rproj" ****
R project file. USE THIS FILE TO OPEN R STUDIO and run the ".R" scripts

#---- "input files (examples)"" ----
Folder containing subfolders containing example original input files

	#---- "color intensity ramps, CO2" ----
	#---- "color vs gray 0.50, CO2" ----
	
		#---- "[YYYY][MM][DD]_[HH][MM][SS].csv" ----
		#---- "[YYYY][MM][DD]_[HH][MM][SS].mainbrain.h5" ----
		Example input files for each experimental run/rep. Used this naming formula 
		"[YYYY][MM][DD]_[hh][mm][ss]". With "[YYYY]" giving the four digit year, "[MM]" 
		the two digit month, "[DD]" the two digit day, "[hh]" the two digit hour on a 24 
		hour clock, "[mm]" the two digits minute, and "[ss]" the two digit second.
		The "csv" file gives a list of events (stimuli) and associated timecodes. The
		".h5" contains the raw xyz trajectory data.


#---- "output files" ----
Folder containing subfolders containing intermediate and output files


	#---- "color vs gray 0.50, CO2" ----														(Figs. 3,4,5,S3)
	#---- "color vs gray 0.50, CO2 + alfalfa" ---- 									(Figs. 3,4,5,S3)
	#---- "color vs gray 0.50, CO2 + foot" ---- 										(Figs. 3,4,5,S3)
	#---- "color vs gray 0.50, CO2 + tansy" ---- 										(Figs. 3,4,5,S3)
	#---- "color intensity ramps, CO2" ----													(Figs. 6,S4,S6)
	#---- "color intensity ramps, CO2 (VGrY)" ----									(Figs. 6,S4,S6)
	#---- "color intensity ramps, CO2 + alfalfa" ----								(Figs. 6,S4,S6)
	#---- "color intensity ramps, CO2 + foot" ----									(Figs. 6,S4,S6)
	#---- "color intensity ramps, CO2 + tansy" ----									(Figs. 6,S4,S6)
	#---- "color vs gray 0.50, air, CO2-01, CO2-05, CO2-10" ----		(Fig. 2)
	#---- "color vs gray 0.50, air, CO2, water, CO2 + water" ----		(Fig. S2)
	#---- "color vs gray 0.50, air, CO2, foot, CO2 + foot" ----			(Fig. S5)
	The subfolders organizing the different experimental series. The figures associated
	with the data on each folder are given above on the right. The first four subfolders
	are associated with the spectral sweep experimental series and the next 5 subfolders
	are associated with the color intensity ramps. The remainder are associated with
	supplementary control experiments (IE humidity control, Fig. S2).

		#---- "[YYYY][MM][DD]_[HH][MM][SS]" ----
		Subfolders were named with the timecode of the run/rep start. Used this naming 
		formula "[YYYY][MM][DD]_[hh][mm][ss]". With "[YYYY]" giving the four digit year, 
		"[MM]" the two digit month, "[DD]" the two digit day, "[hh]" the two digit hour on 
		a 24 hour clock, "[mm]" the two digits minute, and "[ss]" the two digit second.

			
			#---- "barplot activity_index.png" ----
			#---- "barplot mean_duration.png" ----
			#---- "barplot mean_track_speed.png" ---- (speed is mistakenly given as cm/s)
			#---- "barplot n_tracks_resp.png" ----
			#---- "barplot n_tracks.png" ----
			#---- "barplot p_tracks_resp.png" ----
			Diagnostic barplots showing event level metrics for stimulus "event" during that
			individual run. The same values can be found in "event data.csv". Descriptions of
			the metrics can be found in "trajectory analysis/output files/event level variable desc.csv"
			
			#---- "heatmap-(nn) (event).png" ----
			Top and side view occupancy maps showing mosquito response to visual stimuli 
			(marked with colored circles corresponding to the stimulus appearance) and odor 
			source (gray circle) for each tested stimulus ("event"). In the names "(nn)"
			gives the 1-2 digit order number of the stimulus excluding "1" which referred
			to the initial waiting period. "(event)" could be any of the events in the "event"
			column of the "event data.csv" file.
			
			#---- "vioplot mean_pref_index model summary.txt" ----
			Output of single run/rep betabinomial generalized linear model used to calculate
			the stimulus ("event") specific estimates of the proportion of time spent in
			the vicinity of the test stimulus (given in logits). If these estimates are 
			significant the proportions differ from the expected 50:50.
			
			#---- "vioplot mean_pref_index residuals.png" ----
			Residual plots from the above model.
			
			#---- "vioplot mean_pref_index.png" ----
			Violin plots showing the individual and overall preference index 
			(PI = 2p-1, with 0 being a 50:50 preference) for each tested stimulus ("event").
			Individual points show the preference index for each responding trajectory, 
			boxplots show the overall preference index, and the violin show the distribution 
			of the individual trajectory preference indexes. The bracketed numbers above
			each bar give the number of responding trajectories.
			
			#---- "event data.csv" ----
			"event" (stimulus) level descriptors, metrics and data. Summarizes the responding 
			trajectories given in "tracks data (resp).csv". Column descriptions can be
			found in "trajectory analysis/output files/event level variable desc.csv". 
			
			#---- "tracks data (resp).csv" ----
			"track" (trajectory) level descriptors and metrics. Column descriptions can be
			found in "trajectory analysis/output files/track level variable desc.csv".

	
		#---- "event level variable desc.csv" ----
		#---- "track level variable desc.csv" ----
		Descriptors/metadata for all the columns/variables in the "event data.csv" 
		& "tracks data (resp).csv" files respectively.
		
		
#---- "R code" ----
R code used to perform single rep/run analyses and produce the figures related to
the trajectory analysis

	#---- "color functions.R" ----
	R source file with custom R functions for creating a list colors to associate with given  
	stimuli (IE 430_0.20). Uses the same naming scheme as used for stimuli in the name of
	Arduino sketches in the "arduino code" folder. Also includes lookup function to go
	from a color (IE all, gray, or 450) and intensity (IE 0.00, 0.50, 1.00) to a hex
	color to use in the graphs. This source file is called in the "wind tunnel functions.R"
	source file.
	
	#---- "wind tunnel functions.R" ----
	Custom functions for importing and graphing trajectory data
	
	#---- "relative intensities.csv" ----
	These intensities were determined from photographic measurements of wind tunnel stimuli 
	using DCRaw import than preserved sensor linearity. Values were drawn from calculations 
	performed in the two following spread sheets. These intensities are used in the analysis 
	of the color intensity ramps.
	"photography/color stimuli/2023-05-10/spectral sweep w projectors on.xlsx"
	"photography/gray stimuli/2023-05-11/gray-0.10 to gray-1.50 light spot photo measurment.xlsx"
	
	#---- "gray sigmoid coefficients.csv" ----
	Saved coefficients for a sigmoid line fit to the gray stimuli (see Fig. 6A). Used in
	Figs. 6,S6.

	#---- "main_single_exp_LED.R" ----
	Imports "input files" from a single run/rep and produces all the files within a
	"output files/[exp_series]/[YYYY][MM][DD]_[HH][MM][SS]" subfolder. 
	
	#---- "figure 1E.R" ----
	R code to import the data from one of the original data file (.h5) and plot individual
	trajectories. Used to create Fig. 1E.
	
	
	#---- "figure 2.R" ----	
	#---- "figure 3.R" ----
	#---- "figure 4.R" ----
	#---- "figure 5.R" ----
	#---- "figure 6.R" ----
	#---- "figure S2.R" ----
	#---- "figure S3.R" ----
	#---- "figure S4.R" ----
	#---- "figure S5.R" ----
	#---- "figure S6.R" ----
	R code necessary to import intermediate data files ("event data.csv" or 
	"tracks data (resp).csv"), perform statistical analyses, and generate figure visuals.
	The list of figures that each data folders is associated with can be found above. 
	"figure S3" and "figure S4" also contain activation analysis of the spectral sweep and
	intensity ramp experiments respectively. 
